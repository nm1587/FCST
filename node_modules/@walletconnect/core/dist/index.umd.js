(function(V,Tt){typeof exports=="object"&&typeof module<"u"?Tt(exports):typeof define=="function"&&define.amd?define(["exports"],Tt):(V=typeof globalThis<"u"?globalThis:V||self,Tt(V["@walletconnect/core"]={}))})(this,function(V){"use strict";var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nf(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var lt={exports:{}},ar=typeof Reflect=="object"?Reflect:null,rf=ar&&typeof ar.apply=="function"?ar.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},Ui;ar&&typeof ar.ownKeys=="function"?Ui=ar.ownKeys:Object.getOwnPropertySymbols?Ui=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Ui=function(t){return Object.getOwnPropertyNames(t)};function bp(e){console&&console.warn&&console.warn(e)}var sf=Number.isNaN||function(t){return t!==t};function ae(){ae.init.call(this)}lt.exports=ae,lt.exports.once=Ep,ae.EventEmitter=ae,ae.prototype._events=void 0,ae.prototype._eventsCount=0,ae.prototype._maxListeners=void 0;var of=10;function Fi(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ae,"defaultMaxListeners",{enumerable:!0,get:function(){return of},set:function(e){if(typeof e!="number"||e<0||sf(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");of=e}}),ae.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ae.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||sf(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function af(e){return e._maxListeners===void 0?ae.defaultMaxListeners:e._maxListeners}ae.prototype.getMaxListeners=function(){return af(this)},ae.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var f=s[t];if(f===void 0)return!1;if(typeof f=="function")rf(f,this,n);else for(var c=f.length,u=hf(f,c),r=0;r<c;++r)rf(u[r],this,n);return!0};function cf(e,t,n,r){var i,s,o;if(Fi(n),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),o===void 0)o=s[t]=n,++e._eventsCount;else if(typeof o=="function"?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=af(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,bp(a)}return e}ae.prototype.addListener=function(t,n){return cf(this,t,n,!1)},ae.prototype.on=ae.prototype.addListener,ae.prototype.prependListener=function(t,n){return cf(this,t,n,!0)};function yp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ff(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=yp.bind(r);return i.listener=n,r.wrapFn=i,i}ae.prototype.once=function(t,n){return Fi(n),this.on(t,ff(this,t,n)),this},ae.prototype.prependOnceListener=function(t,n){return Fi(n),this.prependListener(t,ff(this,t,n)),this},ae.prototype.removeListener=function(t,n){var r,i,s,o,a;if(Fi(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():mp(r,s),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this},ae.prototype.off=ae.prototype.removeListener,ae.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function uf(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?wp(i):hf(i,i.length)}ae.prototype.listeners=function(t){return uf(this,t,!0)},ae.prototype.rawListeners=function(t){return uf(this,t,!1)},ae.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):lf.call(e,t)},ae.prototype.listenerCount=lf;function lf(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}ae.prototype.eventNames=function(){return this._eventsCount>0?Ui(this._events):[]};function hf(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function mp(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function wp(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function Ep(e,t){return new Promise(function(n,r){function i(o){e.removeListener(t,s),r(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}df(e,t,s,{once:!0}),t!=="error"&&vp(e,i,{once:!0})})}function vp(e,t,n){typeof e.on=="function"&&df(e,"error",t,n)}function df(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(s){r.once&&e.removeEventListener(t,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var W={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var fo=function(e,t){return fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},fo(e,t)};function _p(e,t){fo(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var uo=function(){return uo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},uo.apply(this,arguments)};function xp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Sp(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Ip(e,t){return function(n,r){t(n,r,e)}}function Op(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Bp(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function f(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,f)}c((r=r.apply(e,t||[])).next())})}function Dp(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return f([c,u])}}function f(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ap(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function Tp(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function lo(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Rp(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gf(arguments[t]));return e}function Np(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Vr(e){return this instanceof Vr?(this.v=e,this):new Vr(e)}function Cp(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(l){return new Promise(function(b,m){s.push([h,l,b,m])>1||a(h,l)})})}function a(h,l){try{f(r[h](l))}catch(b){d(s[0][3],b)}}function f(h){h.value instanceof Vr?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,l){h(l),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Pp(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:Vr(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function $p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof lo=="function"?lo(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,f){o=e[s](o),i(a,f,o.done,o.value)})}}function i(s,o,a,f){Promise.resolve(f).then(function(c){s({value:c,done:a})},o)}}function Lp(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function Up(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Fp(e){return e&&e.__esModule?e:{default:e}}function jp(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function Mp(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}var kp=Object.freeze({__proto__:null,__extends:_p,get __assign(){return uo},__rest:xp,__decorate:Sp,__param:Ip,__metadata:Op,__awaiter:Bp,__generator:Dp,__createBinding:Ap,__exportStar:Tp,__values:lo,__read:gf,__spread:Rp,__spreadArrays:Np,__await:Vr,__asyncGenerator:Cp,__asyncDelegator:Pp,__asyncValues:$p,__makeTemplateObject:Lp,__importStar:Up,__importDefault:Fp,__classPrivateFieldGet:jp,__classPrivateFieldSet:Mp}),ji=nf(kp),ho={},Kr={},pf;function zp(){if(pf)return Kr;pf=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Kr.delay=e,Kr}var Un={},go={},Fn={},bf;function qp(){return bf||(bf=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.ONE_THOUSAND=Fn.ONE_HUNDRED=void 0,Fn.ONE_HUNDRED=100,Fn.ONE_THOUSAND=1e3),Fn}var po={},yf;function Hp(){return yf||(yf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(po)),po}var mf;function wf(){return mf||(mf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ji;t.__exportStar(qp(),e),t.__exportStar(Hp(),e)}(go)),go}var Ef;function Vp(){if(Ef)return Un;Ef=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.fromMiliseconds=Un.toMiliseconds=void 0;const e=wf();function t(r){return r*e.ONE_THOUSAND}Un.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Un.fromMiliseconds=n,Un}var vf;function Kp(){return vf||(vf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ji;t.__exportStar(zp(),e),t.__exportStar(Vp(),e)}(ho)),ho}var cr={},_f;function Gp(){if(_f)return cr;_f=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return cr.Watch=e,cr.default=e,cr}var bo={},Gr={},xf;function Zp(){if(xf)return Gr;xf=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.IWatch=void 0;class e{}return Gr.IWatch=e,Gr}var Sf;function Yp(){return Sf||(Sf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),ji.__exportStar(Zp(),e)}(bo)),bo}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=ji;t.__exportStar(Kp(),e),t.__exportStar(Gp(),e),t.__exportStar(Yp(),e),t.__exportStar(wf(),e)})(W);class jn{}class Wp extends jn{constructor(t){super()}}const If=W.FIVE_SECONDS,Mn={pulse:"heartbeat_pulse"};class yo extends Wp{constructor(t){super(t),this.events=new lt.exports.EventEmitter,this.interval=If,this.interval=t?.interval||If}static async init(t){const n=new yo(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),W.toMiliseconds(this.interval))}pulse(){this.events.emit(Mn.pulse)}}const Xp=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Jp=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Qp=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function eb(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){tb(e);return}return t}function tb(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function Mi(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Qp.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Xp.test(e)||Jp.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,eb)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function nb(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function ve(e,...t){try{return nb(e(...t))}catch(n){return Promise.reject(n)}}function rb(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function ib(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function ki(e){if(rb(e))return String(e);if(ib(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return ki(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const mo="base64:";function sb(e){return typeof e=="string"?e:mo+cb(e)}function ob(e){return typeof e!="string"||!e.startsWith(mo)?e:ab(e.slice(mo.length))}function ab(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function cb(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Ke(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function fb(...e){return Ke(e.join(":"))}function zi(e){return e=Ke(e),e?e+":":""}function ub(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function lb(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}function Fx(e){return e}const hb="memory",db=()=>{const e=new Map;return{name:hb,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function gb(e={}){const t={mounts:{"":e.driver||db()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(const u of t.mountpoints)if(c.startsWith(u))return{base:u,relativeKey:c.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:c,driver:t.mounts[""]}},r=(c,u)=>t.mountpoints.filter(d=>d.startsWith(c)||u&&c.startsWith(d)).map(d=>({relativeBase:c.length>d.length?c.slice(d.length):void 0,mountpoint:d,driver:t.mounts[d]})),i=(c,u)=>{if(t.watching){u=Ke(u);for(const d of t.watchListeners)d(c,u)}},s=async()=>{if(!t.watching){t.watching=!0;for(const c in t.mounts)t.unwatch[c]=await Of(t.mounts[c],i,c)}},o=async()=>{if(t.watching){for(const c in t.unwatch)await t.unwatch[c]();t.unwatch={},t.watching=!1}},a=(c,u,d)=>{const h=new Map,l=b=>{let m=h.get(b.base);return m||(m={driver:b.driver,base:b.base,items:[]},h.set(b.base,m)),m};for(const b of c){const m=typeof b=="string",v=Ke(m?b:b.key),D=m?void 0:b.value,C=m||!b.options?u:{...u,...b.options},x=n(v);l(x).items.push({key:v,value:D,relativeKey:x.relativeKey,options:C})}return Promise.all([...h.values()].map(b=>d(b))).then(b=>b.flat())},f={hasItem(c,u={}){c=Ke(c);const{relativeKey:d,driver:h}=n(c);return ve(h.hasItem,d,u)},getItem(c,u={}){c=Ke(c);const{relativeKey:d,driver:h}=n(c);return ve(h.getItem,d,u).then(l=>Mi(l))},getItems(c,u={}){return a(c,u,d=>d.driver.getItems?ve(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(l=>({key:fb(d.base,l.key),value:Mi(l.value)}))):Promise.all(d.items.map(h=>ve(d.driver.getItem,h.relativeKey,h.options).then(l=>({key:h.key,value:Mi(l)})))))},getItemRaw(c,u={}){c=Ke(c);const{relativeKey:d,driver:h}=n(c);return h.getItemRaw?ve(h.getItemRaw,d,u):ve(h.getItem,d,u).then(l=>ob(l))},async setItem(c,u,d={}){if(u===void 0)return f.removeItem(c);c=Ke(c);const{relativeKey:h,driver:l}=n(c);l.setItem&&(await ve(l.setItem,h,ki(u),d),l.watch||i("update",c))},async setItems(c,u){await a(c,u,async d=>{if(d.driver.setItems)return ve(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:ki(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>ve(d.driver.setItem,h.relativeKey,ki(h.value),h.options)))})},async setItemRaw(c,u,d={}){if(u===void 0)return f.removeItem(c,d);c=Ke(c);const{relativeKey:h,driver:l}=n(c);if(l.setItemRaw)await ve(l.setItemRaw,h,u,d);else if(l.setItem)await ve(l.setItem,h,sb(u),d);else return;l.watch||i("update",c)},async removeItem(c,u={}){typeof u=="boolean"&&(u={removeMeta:u}),c=Ke(c);const{relativeKey:d,driver:h}=n(c);h.removeItem&&(await ve(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await ve(h.removeItem,d+"$",u),h.watch||i("remove",c))},async getMeta(c,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),c=Ke(c);const{relativeKey:d,driver:h}=n(c),l=Object.create(null);if(h.getMeta&&Object.assign(l,await ve(h.getMeta,d,u)),!u.nativeOnly){const b=await ve(h.getItem,d+"$",u).then(m=>Mi(m));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(l,b))}return l},setMeta(c,u,d={}){return this.setItem(c+"$",u,d)},removeMeta(c,u={}){return this.removeItem(c+"$",u)},async getKeys(c,u={}){c=zi(c);const d=r(c,!0);let h=[];const l=[];let b=!0;for(const v of d){v.driver.flags?.maxDepth||(b=!1);const D=await ve(v.driver.getKeys,v.relativeBase,u);for(const C of D){const x=v.mountpoint+Ke(C);h.some(_=>x.startsWith(_))||l.push(x)}h=[v.mountpoint,...h.filter(C=>!C.startsWith(v.mountpoint))]}const m=u.maxDepth!==void 0&&!b;return l.filter(v=>(!m||ub(v,u.maxDepth))&&lb(v,c))},async clear(c,u={}){c=zi(c),await Promise.all(r(c,!1).map(async d=>{if(d.driver.clear)return ve(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(l=>d.driver.removeItem(l,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(c=>Bf(c)))},async watch(c){return await s(),t.watchListeners.push(c),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==c),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(c,u){if(c=zi(c),c&&t.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(t.mountpoints.push(c),t.mountpoints.sort((d,h)=>h.length-d.length)),t.mounts[c]=u,t.watching&&Promise.resolve(Of(u,i,c)).then(d=>{t.unwatch[c]=d}).catch(console.error),f},async unmount(c,u=!0){c=zi(c),!(!c||!t.mounts[c])&&(t.watching&&c in t.unwatch&&(t.unwatch[c]?.(),delete t.unwatch[c]),u&&await Bf(t.mounts[c]),t.mountpoints=t.mountpoints.filter(d=>d!==c),delete t.mounts[c])},getMount(c=""){c=Ke(c)+":";const u=n(c);return{driver:u.driver,base:u.base}},getMounts(c="",u={}){return c=Ke(c),r(c,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(c,u={})=>f.getKeys(c,u),get:(c,u={})=>f.getItem(c,u),set:(c,u,d={})=>f.setItem(c,u,d),has:(c,u={})=>f.hasItem(c,u),del:(c,u={})=>f.removeItem(c,u),remove:(c,u={})=>f.removeItem(c,u)};return f}function Of(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function Bf(e){typeof e.dispose=="function"&&await ve(e.dispose)}function kn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Df(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=kn(n);return(i,s)=>r.then(o=>s(o.transaction(t,i).objectStore(t)))}let wo;function Zr(){return wo||(wo=Df("keyval-store","keyval")),wo}function Af(e,t=Zr()){return t("readonly",n=>kn(n.get(e)))}function pb(e,t,n=Zr()){return n("readwrite",r=>(r.put(t,e),kn(r.transaction)))}function bb(e,t=Zr()){return t("readwrite",n=>(n.delete(e),kn(n.transaction)))}function yb(e=Zr()){return e("readwrite",t=>(t.clear(),kn(t.transaction)))}function mb(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},kn(e.transaction)}function wb(e=Zr()){return e("readonly",t=>{if(t.getAllKeys)return kn(t.getAllKeys());const n=[];return mb(t,r=>n.push(r.key)).then(()=>n)})}const Eb=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),vb=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function fr(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return vb(e)}catch{return e}}function zn(e){return typeof e=="string"?e:Eb(e)||""}const _b="idb-keyval";var xb=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=Df(e.dbName,e.storeName)),{name:_b,options:e,async hasItem(i){return!(typeof await Af(n(i),r)>"u")},async getItem(i){return await Af(n(i),r)??null},setItem(i,s){return pb(n(i),s,r)},removeItem(i){return bb(n(i),r)},getKeys(){return wb(r)},clear(){return yb(r)}}};const Sb="WALLET_CONNECT_V2_INDEXED_DB",Ib="keyvaluestorage";class Ob{constructor(){this.indexedDb=gb({driver:xb({dbName:Sb,storeName:Ib})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,zn(n))}async removeItem(t){await this.indexedDb.removeItem(t)}}var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Eo<"u"&&Eo.localStorage?qi.exports=Eo.localStorage:typeof window<"u"&&window.localStorage?qi.exports=window.localStorage:qi.exports=new t})();function Bb(e){var t;return[e[0],fr((t=e[1])!=null?t:"")]}class Db{constructor(){this.localStorage=qi.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Bb)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return fr(n)}async setItem(t,n){this.localStorage.setItem(t,zn(n))}async removeItem(t){this.localStorage.removeItem(t)}}const Ab="wc_storage_version",Tf=1,Tb=async(e,t,n)=>{const r=Ab,i=await t.getItem(r);if(i&&i>=Tf){n(t);return}const s=await e.getKeys();if(!s.length){n(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const f=a.toLowerCase();if(f.includes("wc@")||f.includes("walletconnect")||f.includes("wc_")||f.includes("wallet_connect")){const c=await e.getItem(a);await t.setItem(a,c),o.push(a)}}await t.setItem(r,Tf),n(t),Rb(e,o)},Rb=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};class Nb{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new Db;this.storage=t;try{const n=new Ob;Tb(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}}var Rt={exports:{}};function Cb(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var Pb=$b;function $b(e,t,n){var r=n&&n.stringify||Cb,i=1;if(typeof e=="object"&&e!==null){var s=t.length+i;if(s===1)return e;var o=new Array(s);o[0]=r(e);for(var a=1;a<s;a++)o[a]=r(t[a]);return o.join(" ")}if(typeof e!="string")return e;var f=t.length;if(f===0)return e;for(var c="",u=1-i,d=-1,h=e&&e.length||0,l=0;l<h;){if(e.charCodeAt(l)===37&&l+1<h){switch(d=d>-1?d:0,e.charCodeAt(l+1)){case 100:case 102:if(u>=f||t[u]==null)break;d<l&&(c+=e.slice(d,l)),c+=Number(t[u]),d=l+2,l++;break;case 105:if(u>=f||t[u]==null)break;d<l&&(c+=e.slice(d,l)),c+=Math.floor(Number(t[u])),d=l+2,l++;break;case 79:case 111:case 106:if(u>=f||t[u]===void 0)break;d<l&&(c+=e.slice(d,l));var b=typeof t[u];if(b==="string"){c+="'"+t[u]+"'",d=l+2,l++;break}if(b==="function"){c+=t[u].name||"<anonymous>",d=l+2,l++;break}c+=r(t[u]),d=l+2,l++;break;case 115:if(u>=f)break;d<l&&(c+=e.slice(d,l)),c+=String(t[u]),d=l+2,l++;break;case 37:d<l&&(c+=e.slice(d,l)),c+="%",d=l+2,l++,u--;break}++u}++l}return d===-1?e:(d<h&&(c+=e.slice(d)),c)}const Rf=Pb;Rt.exports=jt;const Yr=Wb().console||{},Lb={mapHttpRequest:Hi,mapHttpResponse:Hi,wrapRequestSerializer:Io,wrapResponseSerializer:Io,wrapErrorSerializer:Io,req:Hi,res:Hi,err:Cf,errWithCause:Cf};function un(e,t){return e==="silent"?1/0:t.levels.values[e]}const vo=Symbol("pino.logFuncs"),_o=Symbol("pino.hierarchy"),Ub={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function Nf(e,t){const n={logger:t,parent:e[_o]};t[_o]=n}function Fb(e,t,n){const r={};t.forEach(i=>{r[i]=n[i]?n[i]:Yr[i]||Yr[Ub[i]||"log"]||ur}),e[vo]=r}function jb(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function jt(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const n=e.browser.write||Yr;e.browser.write&&(e.browser.asObject=!0);const r=e.serializers||{},i=jb(e.browser.serialize,r);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(o);typeof n=="function"&&a.forEach(function(m){n[m]=n}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");const f=e.level||"info",c=Object.create(n);c.log||(c.log=ur),Fb(c,a,n),Nf({},c),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:h,set:l});const u={transmit:t,serialize:i,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:Gb(e),messageKey:e.messageKey||"msg",onChild:e.onChild||ur};c.levels=Mb(e),c.level=f,c.isLevelEnabled=function(m){return this.levels.values[m]?this.levels.values[m]>=this.levels.values[this.level]:!1},c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=ur,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=function(...m){return b.call(this,u,...m)},t&&(c._logEvent=So());function d(){return un(this.level,this)}function h(){return this._level}function l(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,qn(this,u,c,"error"),qn(this,u,c,"fatal"),qn(this,u,c,"warn"),qn(this,u,c,"info"),qn(this,u,c,"debug"),qn(this,u,c,"trace"),o.forEach(v=>{qn(this,u,c,v)})}function b(m,v,D){if(!v)throw new Error("missing bindings for child Pino");D=D||{},i&&v.serializers&&(D.serializers=v.serializers);const C=D.serializers;if(i&&C){var x=Object.assign({},r,C),_=e.browser.serialize===!0?Object.keys(x):i;delete v.serializers,xo([v],_,x,this._stdErrSerialize)}function R(F){this._childLevel=(F._childLevel|0)+1,this.bindings=v,x&&(this.serializers=x,this._serialize=_),t&&(this._logEvent=So([].concat(F._logEvent.bindings,v)))}R.prototype=this;const $=new R(this);return Nf(this,$),$.child=function(...F){return b.call(this,m,...F)},$.level=D.level||this.level,m.onChild($),$}return c}function Mb(e){const t=e.customLevels||{},n=Object.assign({},jt.levels.values,t),r=Object.assign({},jt.levels.labels,kb(t));return{values:n,labels:r}}function kb(e){const t={};return Object.keys(e).forEach(function(n){t[e[n]]=n}),t}jt.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},jt.stdSerializers=Lb,jt.stdTimeFunctions=Object.assign({},{nullTime:Pf,epochTime:$f,unixTime:Zb,isoTime:Yb});function zb(e){const t=[];e.bindings&&t.push(e.bindings);let n=e[_o];for(;n.parent;)n=n.parent,n.logger.bindings&&t.push(n.logger.bindings);return t.reverse()}function qn(e,t,n,r){if(Object.defineProperty(e,r,{value:un(e.level,n)>un(r,n)?ur:n[vo][r],writable:!0,enumerable:!0,configurable:!0}),e[r]===ur){if(!t.transmit)return;const s=t.transmit.level||e.level,o=un(s,n);if(un(r,n)<o)return}e[r]=Hb(e,t,n,r);const i=zb(e);i.length!==0&&(e[r]=qb(i,e[r]))}function qb(e,t){return function(){return t.apply(this,[...e,...arguments])}}function Hb(e,t,n,r){return function(i){return function(){const o=t.timestamp(),a=new Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Yr?Yr:this;for(var c=0;c<a.length;c++)a[c]=arguments[c];var u=!1;if(t.serialize&&(xo(a,this._serialize,this.serializers,this._stdErrSerialize),u=!0),t.asObject||t.formatters?i.call(f,...Vb(this,r,a,o,t)):i.apply(f,a),t.transmit){const d=t.transmit.level||e._level,h=un(d,n),l=un(r,n);if(l<h)return;Kb(this,{ts:o,methodLevel:r,methodValue:l,transmitLevel:d,transmitValue:n.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:un(e._level,n)},a,u)}}}(e[vo][r])}function Vb(e,t,n,r,i){const{level:s,log:o=d=>d}=i.formatters||{},a=n.slice();let f=a[0];const c={};let u=(e._childLevel|0)+1;if(u<1&&(u=1),r&&(c.time=r),s){const d=s(t,e.levels.values[t]);Object.assign(c,d)}else c.level=e.levels.values[t];if(i.asObjectBindingsOnly){if(f!==null&&typeof f=="object")for(;u--&&typeof a[0]=="object";)Object.assign(c,a.shift());return[o(c),...a]}else{if(f!==null&&typeof f=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(c,a.shift());f=a.length?Rf(a.shift(),a):void 0}else typeof f=="string"&&(f=Rf(a.shift(),a));return f!==void 0&&(c[i.messageKey]=f),[o(c)]}}function xo(e,t,n,r){for(const i in e)if(r&&e[i]instanceof Error)e[i]=jt.stdSerializers.err(e[i]);else if(typeof e[i]=="object"&&!Array.isArray(e[i])&&t)for(const s in e[i])t.indexOf(s)>-1&&s in n&&(e[i][s]=n[s](e[i][s]))}function Kb(e,t,n,r=!1){const i=t.send,s=t.ts,o=t.methodLevel,a=t.methodValue,f=t.val,c=e._logEvent.bindings;r||xo(n,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=a,i(o,e._logEvent,f),e._logEvent=So(c)}function So(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function Cf(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const n in e)t[n]===void 0&&(t[n]=e[n]);return t}function Gb(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?Pf:$f}function Hi(){return{}}function Io(e){return e}function ur(){}function Pf(){return!1}function $f(){return Date.now()}function Zb(){return Math.round(Date.now()/1e3)}function Yb(){return new Date(Date.now()).toISOString()}function Wb(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}Rt.exports.default=jt,Rt.exports.pino=jt;const Xb={level:"info"},Vi="custom_context",Oo=1e3*1024;var Jb=Object.defineProperty,Qb=(e,t,n)=>t in e?Jb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ln=(e,t,n)=>Qb(e,typeof t!="symbol"?t+"":t,n);class e1{constructor(t){ln(this,"nodeValue"),ln(this,"sizeInBytes"),ln(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class Lf{constructor(t){ln(this,"lengthInNodes"),ln(this,"sizeInBytes"),ln(this,"head"),ln(this,"tail"),ln(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new e1(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}}var t1=Object.defineProperty,n1=(e,t,n)=>t in e?t1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ki=(e,t,n)=>n1(e,typeof t!="symbol"?t+"":t,n);class Uf{constructor(t,n=Oo){Ki(this,"logs"),Ki(this,"level"),Ki(this,"levelValue"),Ki(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=Rt.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new Lf(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===Rt.exports.levels.values.error?console.error(t):n===Rt.exports.levels.values.warn?console.warn(t):n===Rt.exports.levels.values.debug?console.debug(t):n===Rt.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(zn({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new Lf(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(zn({extraMetadata:t})),new Blob(n,{type:"application/json"})}}var r1=Object.defineProperty,i1=(e,t,n)=>t in e?r1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,s1=(e,t,n)=>i1(e,typeof t!="symbol"?t+"":t,n);class o1{constructor(t,n=Oo){s1(this,"baseChunkLogger"),this.baseChunkLogger=new Uf(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}}var a1=Object.defineProperty,c1=(e,t,n)=>t in e?a1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,f1=(e,t,n)=>c1(e,typeof t!="symbol"?t+"":t,n);class u1{constructor(t,n=Oo){f1(this,"baseChunkLogger"),this.baseChunkLogger=new Uf(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var l1=Object.defineProperty,h1=Object.defineProperties,d1=Object.getOwnPropertyDescriptors,Ff=Object.getOwnPropertySymbols,g1=Object.prototype.hasOwnProperty,p1=Object.prototype.propertyIsEnumerable,jf=(e,t,n)=>t in e?l1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gi=(e,t)=>{for(var n in t||(t={}))g1.call(t,n)&&jf(e,n,t[n]);if(Ff)for(var n of Ff(t))p1.call(t,n)&&jf(e,n,t[n]);return e},Zi=(e,t)=>h1(e,d1(t));function b1(e){return Zi(Gi({},e),{level:e?.level||Xb.level})}function y1(e,t,n=Vi){return e[n]=t,e}function rt(e,t=Vi){return e[t]||""}function m1(e,t,n=Vi){const r=rt(e,n);return r.trim()?`${r}/${t}`:t}function it(e,t,n=Vi){const r=m1(e,t,n),i=e.child({context:r});return y1(i,r,n)}function w1(e){var t,n;const r=new o1((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Rt.exports(Zi(Gi({},e.opts),{level:"trace",browser:Zi(Gi({},(n=e.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function E1(e){var t;const n=new u1((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Rt.exports(Zi(Gi({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function Mf(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?w1(e):E1(e)}var v1=Object.defineProperty,_1=(e,t,n)=>t in e?v1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kf=(e,t,n)=>_1(e,typeof t!="symbol"?t+"":t,n);class x1 extends jn{constructor(t){super(),this.opts=t,kf(this,"protocol","wc"),kf(this,"version",2)}}var S1=Object.defineProperty,I1=(e,t,n)=>t in e?S1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,O1=(e,t,n)=>I1(e,typeof t!="symbol"?t+"":t,n);class B1 extends jn{constructor(t,n){super(),this.core=t,this.logger=n,O1(this,"records",new Map)}}class D1{constructor(t,n){this.logger=t,this.core=n}}class A1 extends jn{constructor(t,n){super(),this.relayer=t,this.logger=n}}class T1 extends jn{constructor(t){super()}}class R1{constructor(t,n,r,i){this.core=t,this.logger=n,this.name=r}}class N1 extends jn{constructor(t,n){super(),this.relayer=t,this.logger=n}}class C1 extends jn{constructor(t,n){super(),this.core=t,this.logger=n}}class P1{constructor(t,n,r){this.core=t,this.logger=n,this.store=r}}class $1{constructor(t,n){this.projectId=t,this.logger=n}}class L1{constructor(t,n,r){this.core=t,this.logger=n,this.telemetryEnabled=r}}const Bo="wc",Do=2,Wr="core",Et=`${Bo}@2:${Wr}:`,zf={name:Wr,logger:"error"},qf={database:":memory:"},Hf="crypto",Ao="client_ed25519_seed",Vf=W.ONE_DAY,Kf="keychain",Gf="0.3",Zf="messages",Yf="0.3",Wf=W.SIX_HOURS,Xf="publisher",Jf="irn",Qf="error",To="wss://relay.walletconnect.org",eu="relayer",be={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},tu="_subscription",st={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},nu=.1,U1={database:":memory:"},Yi="2.23.0",F1=1e4,Hn={link_mode:"link_mode",relay:"relay"},Xr={inbound:"inbound",outbound:"outbound"},ru="0.3",iu="WALLETCONNECT_CLIENT_ID",Ro="WALLETCONNECT_LINK_MODE_APPS",Ge={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},j1=W.THIRTY_DAYS,su="subscription",ou="0.3",M1=W.FIVE_SECONDS*1e3,au="pairing",cu="0.3",k1=W.THIRTY_DAYS,lr={wc_pairingDelete:{req:{ttl:W.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:W.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:W.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:W.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:W.ONE_DAY,prompt:!1,tag:0},res:{ttl:W.ONE_DAY,prompt:!1,tag:0}}},hr={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},ht={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},fu="history",uu="0.3",lu="expirer",dt={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},hu="0.3",z1=W.ONE_DAY,du="verify-api",q1="https://verify.walletconnect.com",gu="https://verify.walletconnect.org",Jr=gu,pu=`${Jr}/v3`,bu=[q1,gu],yu="echo",mu="https://echo.walletconnect.com",H1="event-client",Nt={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Mt={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},V1={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},K1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},G1={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},Z1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},wu=.1,Eu="event-client",vu=86400,_u="https://pulse.walletconnect.org/batch";function Y1(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function xu(e,...t){if(!Y1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Su(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function W1(e,t){xu(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const dr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const No=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function X1(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Iu(e){return typeof e=="string"&&(e=X1(e)),xu(e),e}class J1{clone(){return this._cloneInto()}}function Q1(e){const t=r=>e().update(Iu(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ou(e=32){if(dr&&typeof dr.getRandomValues=="function")return dr.getRandomValues(new Uint8Array(e));if(dr&&typeof dr.randomBytes=="function")return dr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function ey(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),f=r?4:0,c=r?0:4;e.setUint32(t+f,o,r),e.setUint32(t+c,a,r)}class ty extends J1{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=No(this.buffer)}update(t){Su(this);const{view:n,buffer:r,blockLen:i}=this;t=Iu(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const f=No(t);for(;i<=s-o;o+=i)this.process(f,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Su(this),W1(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;ey(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=No(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const Wi=BigInt(2**32-1),Co=BigInt(32);function Bu(e,t=!1){return t?{h:Number(e&Wi),l:Number(e>>Co&Wi)}:{h:Number(e>>Co&Wi)|0,l:Number(e&Wi)|0}}function ny(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=Bu(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const ry=(e,t)=>BigInt(e>>>0)<<Co|BigInt(t>>>0),iy=(e,t,n)=>e>>>n,sy=(e,t,n)=>e<<32-n|t>>>n,oy=(e,t,n)=>e>>>n|t<<32-n,ay=(e,t,n)=>e<<32-n|t>>>n,cy=(e,t,n)=>e<<64-n|t>>>n-32,fy=(e,t,n)=>e>>>n-32|t<<64-n,uy=(e,t)=>t,ly=(e,t)=>e,hy=(e,t,n)=>e<<n|t>>>32-n,dy=(e,t,n)=>t<<n|e>>>32-n,gy=(e,t,n)=>t<<n-32|e>>>64-n,py=(e,t,n)=>e<<n-32|t>>>64-n;function by(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const yy=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),my=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,wy=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Ey=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,vy=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),_y=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Q={fromBig:Bu,split:ny,toBig:ry,shrSH:iy,shrSL:sy,rotrSH:oy,rotrSL:ay,rotrBH:cy,rotrBL:fy,rotr32H:uy,rotr32L:ly,rotlSH:hy,rotlSL:dy,rotlBH:gy,rotlBL:py,add:by,add3L:yy,add3H:my,add4L:wy,add4H:Ey,add5H:_y,add5L:vy},[xy,Sy]=Q.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),hn=new Uint32Array(80),dn=new Uint32Array(80);class Iy extends ty{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:f,Eh:c,El:u,Fh:d,Fl:h,Gh:l,Gl:b,Hh:m,Hl:v}=this;return[t,n,r,i,s,o,a,f,c,u,d,h,l,b,m,v]}set(t,n,r,i,s,o,a,f,c,u,d,h,l,b,m,v){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=l|0,this.Gl=b|0,this.Hh=m|0,this.Hl=v|0}process(t,n){for(let x=0;x<16;x++,n+=4)hn[x]=t.getUint32(n),dn[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const _=hn[x-15]|0,R=dn[x-15]|0,$=Q.rotrSH(_,R,1)^Q.rotrSH(_,R,8)^Q.shrSH(_,R,7),F=Q.rotrSL(_,R,1)^Q.rotrSL(_,R,8)^Q.shrSL(_,R,7),U=hn[x-2]|0,A=dn[x-2]|0,q=Q.rotrSH(U,A,19)^Q.rotrBH(U,A,61)^Q.shrSH(U,A,6),k=Q.rotrSL(U,A,19)^Q.rotrBL(U,A,61)^Q.shrSL(U,A,6),E=Q.add4L(F,k,dn[x-7],dn[x-16]),p=Q.add4H(E,$,q,hn[x-7],hn[x-16]);hn[x]=p|0,dn[x]=E|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:f,Dh:c,Dl:u,Eh:d,El:h,Fh:l,Fl:b,Gh:m,Gl:v,Hh:D,Hl:C}=this;for(let x=0;x<80;x++){const _=Q.rotrSH(d,h,14)^Q.rotrSH(d,h,18)^Q.rotrBH(d,h,41),R=Q.rotrSL(d,h,14)^Q.rotrSL(d,h,18)^Q.rotrBL(d,h,41),$=d&l^~d&m,F=h&b^~h&v,U=Q.add5L(C,R,F,Sy[x],dn[x]),A=Q.add5H(U,D,_,$,xy[x],hn[x]),q=U|0,k=Q.rotrSH(r,i,28)^Q.rotrBH(r,i,34)^Q.rotrBH(r,i,39),E=Q.rotrSL(r,i,28)^Q.rotrBL(r,i,34)^Q.rotrBL(r,i,39),p=r&s^r&a^s&a,w=i&o^i&f^o&f;D=m|0,C=v|0,m=l|0,v=b|0,l=d|0,b=h|0,{h:d,l:h}=Q.add(c|0,u|0,A|0,q|0),c=a|0,u=f|0,a=s|0,f=o|0,s=r|0,o=i|0;const g=Q.add3L(q,E,w);r=Q.add3H(g,A,k,p),i=g|0}({h:r,l:i}=Q.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Q.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:f}=Q.add(this.Ch|0,this.Cl|0,a|0,f|0),{h:c,l:u}=Q.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Q.add(this.Eh|0,this.El|0,d|0,h|0),{h:l,l:b}=Q.add(this.Fh|0,this.Fl|0,l|0,b|0),{h:m,l:v}=Q.add(this.Gh|0,this.Gl|0,m|0,v|0),{h:D,l:C}=Q.add(this.Hh|0,this.Hl|0,D|0,C|0),this.set(r,i,s,o,a,f,c,u,d,h,l,b,m,v,D,C)}roundClean(){hn.fill(0),dn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Oy=Q1(()=>new Iy);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Po=BigInt(0),Du=BigInt(1),By=BigInt(2);function $o(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Lo(e){if(!$o(e))throw new Error("Uint8Array expected")}function Uo(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const Dy=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fo(e){Lo(e);let t="";for(let n=0;n<e.length;n++)t+=Dy[e[n]];return t}function Au(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Po:BigInt("0x"+e)}const kt={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tu(e){if(e>=kt._0&&e<=kt._9)return e-kt._0;if(e>=kt.A&&e<=kt.F)return e-(kt.A-10);if(e>=kt.a&&e<=kt.f)return e-(kt.a-10)}function Ru(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Tu(e.charCodeAt(s)),a=Tu(e.charCodeAt(s+1));if(o===void 0||a===void 0){const f=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[i]=o*16+a}return r}function Ay(e){return Au(Fo(e))}function Xi(e){return Lo(e),Au(Fo(Uint8Array.from(e).reverse()))}function Nu(e,t){return Ru(e.toString(16).padStart(t*2,"0"))}function jo(e,t){return Nu(e,t).reverse()}function zt(e,t,n){let r;if(typeof t=="string")try{r=Ru(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if($o(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Cu(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Lo(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const Mo=e=>typeof e=="bigint"&&Po<=e;function Ty(e,t,n){return Mo(e)&&Mo(t)&&Mo(n)&&t<=e&&e<n}function Qr(e,t,n,r){if(!Ty(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Ry(e){let t;for(t=0;e>Po;e>>=Du,t+=1);return t}const Ny=e=>(By<<BigInt(e-1))-Du,Cy={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||$o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ko(e,t,n={}){const r=(i,s,o)=>{const a=Cy[s];if(typeof a!="function")throw new Error("invalid validator function");const f=e[i];if(!(o&&f===void 0)&&!a(f,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+f)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function Pu(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const _e=BigInt(0),ge=BigInt(1),Vn=BigInt(2),Py=BigInt(3),zo=BigInt(4),$u=BigInt(5),Lu=BigInt(8);function me(e,t){const n=e%t;return n>=_e?n:t+n}function $y(e,t,n){if(t<_e)throw new Error("invalid exponent, negatives unsupported");if(n<=_e)throw new Error("invalid modulus");if(n===ge)return _e;let r=ge;for(;t>_e;)t&ge&&(r=r*e%n),e=e*e%n,t>>=ge;return r}function Ct(e,t,n){let r=e;for(;t-- >_e;)r*=r,r%=n;return r}function Uu(e,t){if(e===_e)throw new Error("invert: expected non-zero number");if(t<=_e)throw new Error("invert: expected positive modulus, got "+t);let n=me(e,t),r=t,i=_e,s=ge;for(;n!==_e;){const o=r/n,a=r%n,f=i-s*o;r=n,n=a,i=s,s=f}if(r!==ge)throw new Error("invert: does not exist");return me(i,t)}function Ly(e){const t=(e-ge)/Vn;let n,r,i;for(n=e-ge,r=0;n%Vn===_e;n/=Vn,r++);for(i=Vn;i<e&&$y(i,t,e)!==e-ge;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+ge)/zo;return function(a,f){const c=a.pow(f,o);if(!a.eql(a.sqr(c),f))throw new Error("Cannot find square root");return c}}const s=(n+ge)/Vn;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let f=r,c=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let b=o.sqr(d);h<f&&!o.eql(b,o.ONE);h++)b=o.sqr(b);const l=o.pow(c,ge<<BigInt(f-h-1));c=o.sqr(l),u=o.mul(u,l),d=o.mul(d,c),f=h}return u}}function Uy(e){if(e%zo===Py){const t=(e+ge)/zo;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%Lu===$u){const t=(e-$u)/Lu;return function(n,r){const i=n.mul(r,Vn),s=n.pow(i,t),o=n.mul(r,s),a=n.mul(n.mul(o,Vn),s),f=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(f),r))throw new Error("Cannot find square root");return f}}return Ly(e)}const Fy=(e,t)=>(me(e,t)&ge)===ge,jy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function My(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=jy.reduce((r,i)=>(r[i]="function",r),t);return ko(e,n)}function ky(e,t,n){if(n<_e)throw new Error("invalid exponent, negatives unsupported");if(n===_e)return e.ONE;if(n===ge)return t;let r=e.ONE,i=t;for(;n>_e;)n&ge&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ge;return r}function zy(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function Fu(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ju(e,t,n=!1,r={}){if(e<=_e)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Fu(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:Ny(i),ZERO:_e,ONE:ge,create:f=>me(f,e),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return _e<=f&&f<e},is0:f=>f===_e,isOdd:f=>(f&ge)===ge,neg:f=>me(-f,e),eql:(f,c)=>f===c,sqr:f=>me(f*f,e),add:(f,c)=>me(f+c,e),sub:(f,c)=>me(f-c,e),mul:(f,c)=>me(f*c,e),pow:(f,c)=>ky(a,f,c),div:(f,c)=>me(f*Uu(c,e),e),sqrN:f=>f*f,addN:(f,c)=>f+c,subN:(f,c)=>f-c,mulN:(f,c)=>f*c,inv:f=>Uu(f,e),sqrt:r.sqrt||(f=>(o||(o=Uy(e)),o(a,f))),invertBatch:f=>zy(a,f),cmov:(f,c,u)=>u?c:f,toBytes:f=>n?jo(f,s):Nu(f,s),fromBytes:f=>{if(f.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+f.length);return n?Xi(f):Ay(f)}});return Object.freeze(a)}const Mu=BigInt(0),Ji=BigInt(1);function qo(e,t){const n=t.negate();return e?n:t}function ku(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ho(e,t){ku(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function qy(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Hy(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Vo=new WeakMap,zu=new WeakMap;function Ko(e){return zu.get(e)||1}function Vy(e,t){return{constTimeNegate:qo,hasPrecomputes(n){return Ko(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>Mu;)r&Ji&&(i=i.add(s)),s=s.double(),r>>=Ji;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Ho(r,t),o=[];let a=n,f=a;for(let c=0;c<i;c++){f=a,o.push(f);for(let u=1;u<s;u++)f=f.add(a),o.push(f);a=f.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Ho(n,t);let a=e.ZERO,f=e.BASE;const c=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const l=h*o;let b=Number(i&c);i>>=d,b>o&&(b-=u,i+=Ji);const m=l,v=l+Math.abs(b)-1,D=h%2!==0,C=b<0;b===0?f=f.add(qo(D,r[m])):a=a.add(qo(C,r[v]))}return{p:a,f}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:o,windowSize:a}=Ho(n,t),f=BigInt(2**n-1),c=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===Mu)break;let l=Number(i&f);if(i>>=u,l>a&&(l-=c,i+=Ji),l===0)continue;let b=r[h+Math.abs(l)-1];l<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=Vo.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Vo.set(r,i(s))),s},wNAFCached(n,r,i){const s=Ko(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Ko(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){ku(r,t),zu.set(n,r),Vo.delete(n)}}}function Ky(e,t,n,r){if(qy(n,e),Hy(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=Ry(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,f=new Array(a+1).fill(i),c=Math.floor((t.BITS-1)/o)*o;let u=i;for(let d=c;d>=0;d-=o){f.fill(i);for(let l=0;l<r.length;l++){const b=r[l],m=Number(b>>BigInt(d)&BigInt(a));f[m]=f[m].add(n[l])}let h=i;for(let l=f.length-1,b=i;l>0;l--)b=b.add(f[l]),h=h.add(b);if(u=u.add(h),d!==0)for(let l=0;l<o;l++)u=u.double()}return u}function Gy(e){return My(e.Fp),ko(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Fu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const vt=BigInt(0),Ze=BigInt(1),Qi=BigInt(2),Zy=BigInt(8),Yy={zip215:!0};function Wy(e){const t=Gy(e);return ko(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Xy(e){const t=Wy(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:f}=t,c=Qi<<BigInt(a*8)-Ze,u=n.create,d=ju(t.n,t.nBitLength),h=t.uvRatio||((g,y)=>{try{return{isValid:!0,value:n.sqrt(g*n.inv(y))}}catch{return{isValid:!1,value:vt}}}),l=t.adjustScalarBytes||(g=>g),b=t.domain||((g,y,S)=>{if(Uo("phflag",S),y.length||S)throw new Error("Contexts/pre-hash are not supported");return g});function m(g,y){Qr("coordinate "+g,y,vt,c)}function v(g){if(!(g instanceof x))throw new Error("ExtendedPoint expected")}const D=Pu((g,y)=>{const{ex:S,ey:I,ez:O}=g,B=g.is0();y==null&&(y=B?Zy:n.inv(O));const T=u(S*y),L=u(I*y),P=u(O*y);if(B)return{x:vt,y:Ze};if(P!==Ze)throw new Error("invZ was invalid");return{x:T,y:L}}),C=Pu(g=>{const{a:y,d:S}=t;if(g.is0())throw new Error("bad point: ZERO");const{ex:I,ey:O,ez:B,et:T}=g,L=u(I*I),P=u(O*O),j=u(B*B),N=u(j*j),M=u(L*y),z=u(j*u(M+P)),G=u(N+u(S*u(L*P)));if(z!==G)throw new Error("bad point: equation left != right (1)");const H=u(I*O),K=u(B*T);if(H!==K)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(y,S,I,O){this.ex=y,this.ey=S,this.ez=I,this.et=O,m("x",y),m("y",S),m("z",I),m("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(y){if(y instanceof x)throw new Error("extended point not allowed");const{x:S,y:I}=y||{};return m("x",S),m("y",I),new x(S,I,Ze,u(S*I))}static normalizeZ(y){const S=n.invertBatch(y.map(I=>I.ez));return y.map((I,O)=>I.toAffine(S[O])).map(x.fromAffine)}static msm(y,S){return Ky(x,d,y,S)}_setWindowSize(y){$.setWindowSize(this,y)}assertValidity(){C(this)}equals(y){v(y);const{ex:S,ey:I,ez:O}=this,{ex:B,ey:T,ez:L}=y,P=u(S*L),j=u(B*O),N=u(I*L),M=u(T*O);return P===j&&N===M}is0(){return this.equals(x.ZERO)}negate(){return new x(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:y}=t,{ex:S,ey:I,ez:O}=this,B=u(S*S),T=u(I*I),L=u(Qi*u(O*O)),P=u(y*B),j=S+I,N=u(u(j*j)-B-T),M=P+T,z=M-L,G=P-T,H=u(N*z),K=u(M*G),J=u(N*G),ee=u(z*M);return new x(H,K,ee,J)}add(y){v(y);const{a:S,d:I}=t,{ex:O,ey:B,ez:T,et:L}=this,{ex:P,ey:j,ez:N,et:M}=y;if(S===BigInt(-1)){const fp=u((B-O)*(j+P)),up=u((B+O)*(j-P)),tf=u(up-fp);if(tf===vt)return this.double();const lp=u(T*Qi*M),hp=u(L*Qi*N),dp=hp+lp,gp=up+fp,pp=hp-lp,Px=u(dp*tf),$x=u(gp*pp),Lx=u(dp*pp),Ux=u(tf*gp);return new x(Px,$x,Ux,Lx)}const z=u(O*P),G=u(B*j),H=u(L*I*M),K=u(T*N),J=u((O+B)*(P+j)-z-G),ee=K-H,re=K+H,he=u(G-S*z),de=u(J*ee),fn=u(re*he),co=u(J*he),Cx=u(ee*re);return new x(de,fn,Cx,co)}subtract(y){return this.add(y.negate())}wNAF(y){return $.wNAFCached(this,y,x.normalizeZ)}multiply(y){const S=y;Qr("scalar",S,Ze,r);const{p:I,f:O}=this.wNAF(S);return x.normalizeZ([I,O])[0]}multiplyUnsafe(y,S=x.ZERO){const I=y;return Qr("scalar",I,vt,r),I===vt?R:this.is0()||I===Ze?this:$.wNAFCachedUnsafe(this,I,x.normalizeZ,S)}isSmallOrder(){return this.multiplyUnsafe(f).is0()}isTorsionFree(){return $.unsafeLadder(this,r).is0()}toAffine(y){return D(this,y)}clearCofactor(){const{h:y}=t;return y===Ze?this:this.multiplyUnsafe(y)}static fromHex(y,S=!1){const{d:I,a:O}=t,B=n.BYTES;y=zt("pointHex",y,B),Uo("zip215",S);const T=y.slice(),L=y[B-1];T[B-1]=L&-129;const P=Xi(T),j=S?c:n.ORDER;Qr("pointHex.y",P,vt,j);const N=u(P*P),M=u(N-Ze),z=u(I*N-O);let{isValid:G,value:H}=h(M,z);if(!G)throw new Error("Point.fromHex: invalid y coordinate");const K=(H&Ze)===Ze,J=(L&128)!==0;if(!S&&H===vt&&J)throw new Error("Point.fromHex: x=0 and x_0=1");return J!==K&&(H=u(-H)),x.fromAffine({x:H,y:P})}static fromPrivateKey(y){return A(y).point}toRawBytes(){const{x:y,y:S}=this.toAffine(),I=jo(S,n.BYTES);return I[I.length-1]|=y&Ze?128:0,I}toHex(){return Fo(this.toRawBytes())}}x.BASE=new x(t.Gx,t.Gy,Ze,u(t.Gx*t.Gy)),x.ZERO=new x(vt,Ze,Ze,vt);const{BASE:_,ZERO:R}=x,$=Vy(x,a*8);function F(g){return me(g,r)}function U(g){return F(Xi(g))}function A(g){const y=n.BYTES;g=zt("private key",g,y);const S=zt("hashed private key",s(g),2*y),I=l(S.slice(0,y)),O=S.slice(y,2*y),B=U(I),T=_.multiply(B),L=T.toRawBytes();return{head:I,prefix:O,scalar:B,point:T,pointBytes:L}}function q(g){return A(g).pointBytes}function k(g=new Uint8Array,...y){const S=Cu(...y);return U(s(b(S,zt("context",g),!!i)))}function E(g,y,S={}){g=zt("message",g),i&&(g=i(g));const{prefix:I,scalar:O,pointBytes:B}=A(y),T=k(S.context,I,g),L=_.multiply(T).toRawBytes(),P=k(S.context,L,B,g),j=F(T+P*O);Qr("signature.s",j,vt,r);const N=Cu(L,jo(j,n.BYTES));return zt("result",N,n.BYTES*2)}const p=Yy;function w(g,y,S,I=p){const{context:O,zip215:B}=I,T=n.BYTES;g=zt("signature",g,2*T),y=zt("message",y),S=zt("publicKey",S,T),B!==void 0&&Uo("zip215",B),i&&(y=i(y));const L=Xi(g.slice(T,2*T));let P,j,N;try{P=x.fromHex(S,B),j=x.fromHex(g.slice(0,T),B),N=_.multiplyUnsafe(L)}catch{return!1}if(!B&&P.isSmallOrder())return!1;const M=k(O,j.toRawBytes(),P.toRawBytes(),y);return j.add(P.multiplyUnsafe(M)).subtract(N).clearCofactor().equals(x.ZERO)}return _._setWindowSize(8),{CURVE:t,getPublicKey:q,sign:E,verify:w,ExtendedPoint:x,utils:{getExtendedPublicKey:A,randomPrivateKey:()=>o(n.BYTES),precompute(g=8,y=x.BASE){return y._setWindowSize(g),y.multiply(BigInt(3)),y}}}}BigInt(0),BigInt(1);const Go=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),qu=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Jy=BigInt(1),Hu=BigInt(2);BigInt(3);const Qy=BigInt(5),em=BigInt(8);function tm(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Go,o=e*e%s*e%s,a=Ct(o,Hu,s)*o%s,f=Ct(a,Jy,s)*e%s,c=Ct(f,Qy,s)*f%s,u=Ct(c,t,s)*c%s,d=Ct(u,n,s)*u%s,h=Ct(d,r,s)*d%s,l=Ct(h,i,s)*h%s,b=Ct(l,i,s)*h%s,m=Ct(b,t,s)*c%s;return{pow_p_5_8:Ct(m,Hu,s)*e%s,b2:o}}function nm(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function rm(e,t){const n=Go,r=me(t*t*t,n),i=me(r*r*t,n),s=tm(e*i).pow_p_5_8;let o=me(e*r*s,n);const a=me(t*o*o,n),f=o,c=me(o*qu,n),u=a===e,d=a===me(-e,n),h=a===me(-e*qu,n);return u&&(o=f),(d||h)&&(o=c),Fy(o,n)&&(o=me(-o,n)),{isValid:u||d,value:o}}const im=ju(Go,void 0,!0),sm={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:im,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:em,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Oy,randomBytes:Ou,adjustScalarBytes:nm,uvRatio:rm},Vu=Xy(sm),om="EdDSA",am="JWT",es=".",ts="base64url",Ku="utf8",Gu="utf8",cm=":",fm="did",um="key",Zu="base58btc",lm="z",hm="K36",dm=32;function Zo(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Yu(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Zo(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Wu(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const n=Yu(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return Zo(n)}function gm(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,f=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var m=0,v=0,D=0,C=b.length;D!==C&&b[D]===0;)D++,m++;for(var x=(C-D)*u+1>>>0,_=new Uint8Array(x);D!==C;){for(var R=b[D],$=0,F=x-1;(R!==0||$<v)&&F!==-1;F--,$++)R+=256*_[F]>>>0,_[F]=R%a>>>0,R=R/a>>>0;if(R!==0)throw new Error("Non-zero carry");v=$,D++}for(var U=x-v;U!==x&&_[U]===0;)U++;for(var A=f.repeat(m);U<x;++U)A+=e.charAt(_[U]);return A}function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var m=0;if(b[m]!==" "){for(var v=0,D=0;b[m]===f;)v++,m++;for(var C=(b.length-m)*c+1>>>0,x=new Uint8Array(C);b[m];){var _=n[b.charCodeAt(m)];if(_===255)return;for(var R=0,$=C-1;(_!==0||R<D)&&$!==-1;$--,R++)_+=a*x[$]>>>0,x[$]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");D=R,m++}if(b[m]!==" "){for(var F=C-D;F!==C&&x[F]===0;)F++;for(var U=new Uint8Array(v+(C-F)),A=v;F!==C;)U[A++]=x[F++];return U}}}function l(b){var m=h(b);if(m)return m;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:h,decode:l}}var pm=gm,bm=pm;const Xu=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ym=e=>new TextEncoder().encode(e),mm=e=>new TextDecoder().decode(e);class wm{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Em{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Ju(this,t)}}class vm{constructor(t){this.decoders=t}or(t){return Ju(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ju=(e,t)=>new vm({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class _m{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new wm(t,n,r),this.decoder=new Em(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ns=({name:e,prefix:t,encode:n,decode:r})=>new _m(e,t,n,r),ei=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=bm(n,t);return ns({prefix:e,name:t,encode:r,decode:s=>Xu(i(s))})},xm=(e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,f=0,c=0;for(let u=0;u<s;++u){const d=i[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|d,a+=n,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=n||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},Sm=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let f=0;f<e.length;++f)for(a=a<<8|e[f],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Oe=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ns({prefix:t,name:e,encode(i){return Sm(i,r,n)},decode(i){return xm(i,r,n,e)}}),Im=ns({prefix:"\0",name:"identity",encode:e=>mm(e),decode:e=>ym(e)});var Om=Object.freeze({__proto__:null,identity:Im});const Bm=Oe({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Dm=Object.freeze({__proto__:null,base2:Bm});const Am=Oe({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Tm=Object.freeze({__proto__:null,base8:Am});const Rm=ei({prefix:"9",name:"base10",alphabet:"0123456789"});var Nm=Object.freeze({__proto__:null,base10:Rm});const Cm=Oe({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pm=Oe({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $m=Object.freeze({__proto__:null,base16:Cm,base16upper:Pm});const Lm=Oe({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Um=Oe({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fm=Oe({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),jm=Oe({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mm=Oe({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),km=Oe({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zm=Oe({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qm=Oe({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hm=Oe({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Vm=Object.freeze({__proto__:null,base32:Lm,base32upper:Um,base32pad:Fm,base32padupper:jm,base32hex:Mm,base32hexupper:km,base32hexpad:zm,base32hexpadupper:qm,base32z:Hm});const Km=ei({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Gm=ei({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Zm=Object.freeze({__proto__:null,base36:Km,base36upper:Gm});const Ym=ei({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Wm=ei({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Xm=Object.freeze({__proto__:null,base58btc:Ym,base58flickr:Wm});const Jm=Oe({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Qm=Oe({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ew=Oe({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),tw=Oe({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var nw=Object.freeze({__proto__:null,base64:Jm,base64pad:Qm,base64url:ew,base64urlpad:tw});const Qu=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),rw=Qu.reduce((e,t,n)=>(e[n]=t,e),[]),iw=Qu.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function sw(e){return e.reduce((t,n)=>(t+=rw[n],t),"")}function ow(e){const t=[];for(const n of e){const r=iw[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const aw=ns({prefix:"\u{1F680}",name:"base256emoji",encode:sw,decode:ow});var cw=Object.freeze({__proto__:null,base256emoji:aw}),fw=tl,el=128,uw=127,lw=~uw,hw=Math.pow(2,31);function tl(e,t,n){t=t||[],n=n||0;for(var r=n;e>=hw;)t[n++]=e&255|el,e/=128;for(;e&lw;)t[n++]=e&255|el,e>>>=7;return t[n]=e|0,tl.bytes=n-r+1,t}var dw=Yo,gw=128,nl=127;function Yo(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Yo.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&nl)<<i:(o&nl)*Math.pow(2,i),i+=7}while(o>=gw);return Yo.bytes=s-r,n}var pw=Math.pow(2,7),bw=Math.pow(2,14),yw=Math.pow(2,21),mw=Math.pow(2,28),ww=Math.pow(2,35),Ew=Math.pow(2,42),vw=Math.pow(2,49),_w=Math.pow(2,56),xw=Math.pow(2,63),Sw=function(e){return e<pw?1:e<bw?2:e<yw?3:e<mw?4:e<ww?5:e<Ew?6:e<vw?7:e<_w?8:e<xw?9:10},Iw={encode:fw,decode:dw,encodingLength:Sw},rl=Iw;const il=(e,t,n=0)=>(rl.encode(e,t,n),t),sl=e=>rl.encodingLength(e),Wo=(e,t)=>{const n=t.byteLength,r=sl(e),i=r+sl(n),s=new Uint8Array(i+n);return il(e,s,0),il(n,s,r),s.set(t,i),new Ow(e,n,t,s)};class Ow{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const ol=({name:e,code:t,encode:n})=>new Bw(e,t,n);class Bw{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Wo(this.code,n):n.then(r=>Wo(this.code,r))}else throw Error("Unknown type, must be binary type")}}const al=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Dw=ol({name:"sha2-256",code:18,encode:al("SHA-256")}),Aw=ol({name:"sha2-512",code:19,encode:al("SHA-512")});var Tw=Object.freeze({__proto__:null,sha256:Dw,sha512:Aw});const cl=0,Rw="identity",fl=Xu;var Nw=Object.freeze({__proto__:null,identity:{code:cl,name:Rw,encode:fl,digest:e=>Wo(cl,fl(e))}});new TextEncoder,new TextDecoder;const ul={...Om,...Dm,...Tm,...Nm,...$m,...Vm,...Zm,...Xm,...nw,...cw};({...Tw,...Nw});function ll(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const hl=ll("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Xo=ll("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Yu(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),dl={utf8:hl,"utf-8":hl,hex:ul.base16,latin1:Xo,ascii:Xo,binary:Xo,...ul};function rs(e,t="utf8"){const n=dl[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function gr(e,t="utf8"){const n=dl[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Zo(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function gl(e){return fr(rs(gr(e,ts),Ku))}function is(e){return rs(gr(zn(e),Ku),ts)}function pl(e){const t=gr(hm,Zu),n=lm+rs(Wu([t,e]),Zu);return[fm,um,n].join(cm)}function Cw(e){return rs(e,ts)}function Pw(e){return gr(e,ts)}function $w(e){return gr([is(e.header),is(e.payload)].join(es),Gu)}function Lw(e){return[is(e.header),is(e.payload),Cw(e.signature)].join(es)}function Jo(e){const t=e.split(es),n=gl(t[0]),r=gl(t[1]),i=Pw(t[2]),s=gr(t.slice(0,2).join(es),Gu);return{header:n,payload:r,signature:i,data:s}}function bl(e=Ou(dm)){const t=Vu.getPublicKey(e);return{secretKey:Wu([e,t]),publicKey:t}}async function Uw(e,t,n,r,i=W.fromMiliseconds(Date.now())){const s={alg:om,typ:am},o=pl(r.publicKey),a=i+n,f={iss:o,sub:e,aud:t,iat:i,exp:a},c=$w({header:s,payload:f}),u=Vu.sign(c,r.secretKey.slice(0,32));return Lw({header:s,payload:f,signature:u})}function Fw(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,f=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var m=0,v=0,D=0,C=b.length;D!==C&&b[D]===0;)D++,m++;for(var x=(C-D)*u+1>>>0,_=new Uint8Array(x);D!==C;){for(var R=b[D],$=0,F=x-1;(R!==0||$<v)&&F!==-1;F--,$++)R+=256*_[F]>>>0,_[F]=R%a>>>0,R=R/a>>>0;if(R!==0)throw new Error("Non-zero carry");v=$,D++}for(var U=x-v;U!==x&&_[U]===0;)U++;for(var A=f.repeat(m);U<x;++U)A+=e.charAt(_[U]);return A}function h(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var m=0;if(b[m]!==" "){for(var v=0,D=0;b[m]===f;)v++,m++;for(var C=(b.length-m)*c+1>>>0,x=new Uint8Array(C);b[m];){var _=n[b.charCodeAt(m)];if(_===255)return;for(var R=0,$=C-1;(_!==0||R<D)&&$!==-1;$--,R++)_+=a*x[$]>>>0,x[$]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");D=R,m++}if(b[m]!==" "){for(var F=C-D;F!==C&&x[F]===0;)F++;for(var U=new Uint8Array(v+(C-F)),A=v;F!==C;)U[A++]=x[F++];return U}}}function l(b){var m=h(b);if(m)return m;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:h,decode:l}}var jw=Fw,Mw=jw;const yl=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},kw=e=>new TextEncoder().encode(e),zw=e=>new TextDecoder().decode(e);class qw{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Hw{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return ml(this,t)}}class Vw{constructor(t){this.decoders=t}or(t){return ml(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const ml=(e,t)=>new Vw({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Kw{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new qw(t,n,r),this.decoder=new Hw(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ss=({name:e,prefix:t,encode:n,decode:r})=>new Kw(e,t,n,r),ti=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=Mw(n,t);return ss({prefix:e,name:t,encode:r,decode:s=>yl(i(s))})},Gw=(e,t,n,r)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,f=0,c=0;for(let u=0;u<s;++u){const d=i[e[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);f=f<<n|d,a+=n,a>=8&&(a-=8,o[c++]=255&f>>a)}if(a>=n||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return o},Zw=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let f=0;f<e.length;++f)for(a=a<<8|e[f],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Be=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>ss({prefix:t,name:e,encode(i){return Zw(i,r,n)},decode(i){return Gw(i,r,n,e)}}),Yw=ss({prefix:"\0",name:"identity",encode:e=>zw(e),decode:e=>kw(e)});var Ww=Object.freeze({__proto__:null,identity:Yw});const Xw=Be({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Jw=Object.freeze({__proto__:null,base2:Xw});const Qw=Be({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var e2=Object.freeze({__proto__:null,base8:Qw});const t2=ti({prefix:"9",name:"base10",alphabet:"0123456789"});var n2=Object.freeze({__proto__:null,base10:t2});const r2=Be({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),i2=Be({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var s2=Object.freeze({__proto__:null,base16:r2,base16upper:i2});const o2=Be({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),a2=Be({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),c2=Be({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),f2=Be({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u2=Be({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),l2=Be({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),h2=Be({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),d2=Be({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),g2=Be({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var p2=Object.freeze({__proto__:null,base32:o2,base32upper:a2,base32pad:c2,base32padupper:f2,base32hex:u2,base32hexupper:l2,base32hexpad:h2,base32hexpadupper:d2,base32z:g2});const b2=ti({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),y2=ti({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var m2=Object.freeze({__proto__:null,base36:b2,base36upper:y2});const w2=ti({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),E2=ti({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var v2=Object.freeze({__proto__:null,base58btc:w2,base58flickr:E2});const _2=Be({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),x2=Be({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),S2=Be({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),I2=Be({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var O2=Object.freeze({__proto__:null,base64:_2,base64pad:x2,base64url:S2,base64urlpad:I2});const wl=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),B2=wl.reduce((e,t,n)=>(e[n]=t,e),[]),D2=wl.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function A2(e){return e.reduce((t,n)=>(t+=B2[n],t),"")}function T2(e){const t=[];for(const n of e){const r=D2[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const R2=ss({prefix:"\u{1F680}",name:"base256emoji",encode:A2,decode:T2});var N2=Object.freeze({__proto__:null,base256emoji:R2}),C2=vl,El=128,P2=127,$2=~P2,L2=Math.pow(2,31);function vl(e,t,n){t=t||[],n=n||0;for(var r=n;e>=L2;)t[n++]=e&255|El,e/=128;for(;e&$2;)t[n++]=e&255|El,e>>>=7;return t[n]=e|0,vl.bytes=n-r+1,t}var U2=Qo,F2=128,_l=127;function Qo(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Qo.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&_l)<<i:(o&_l)*Math.pow(2,i),i+=7}while(o>=F2);return Qo.bytes=s-r,n}var j2=Math.pow(2,7),M2=Math.pow(2,14),k2=Math.pow(2,21),z2=Math.pow(2,28),q2=Math.pow(2,35),H2=Math.pow(2,42),V2=Math.pow(2,49),K2=Math.pow(2,56),G2=Math.pow(2,63),Z2=function(e){return e<j2?1:e<M2?2:e<k2?3:e<z2?4:e<q2?5:e<H2?6:e<V2?7:e<K2?8:e<G2?9:10},Y2={encode:C2,decode:U2,encodingLength:Z2},xl=Y2;const Sl=(e,t,n=0)=>(xl.encode(e,t,n),t),Il=e=>xl.encodingLength(e),ea=(e,t)=>{const n=t.byteLength,r=Il(e),i=r+Il(n),s=new Uint8Array(i+n);return Sl(e,s,0),Sl(n,s,r),s.set(t,i),new W2(e,n,t,s)};class W2{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const Ol=({name:e,code:t,encode:n})=>new X2(e,t,n);class X2{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?ea(this.code,n):n.then(r=>ea(this.code,r))}else throw Error("Unknown type, must be binary type")}}const Bl=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),J2=Ol({name:"sha2-256",code:18,encode:Bl("SHA-256")}),Q2=Ol({name:"sha2-512",code:19,encode:Bl("SHA-512")});var eE=Object.freeze({__proto__:null,sha256:J2,sha512:Q2});const Dl=0,tE="identity",Al=yl;var nE=Object.freeze({__proto__:null,identity:{code:Dl,name:tE,encode:Al,digest:e=>ea(Dl,Al(e))}});new TextEncoder,new TextDecoder;const Tl={...Ww,...Jw,...e2,...n2,...s2,...p2,...m2,...v2,...O2,...N2};({...eE,...nE});function ta(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Rl(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ta(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Nl(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Cl=Nl("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),na=Nl("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=Rl(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),Pl={utf8:Cl,"utf-8":Cl,hex:Tl.base16,latin1:na,ascii:na,binary:na,...Tl};function ot(e,t="utf8"){const n=Pl[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ta(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}var $l=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},rE=function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e}(),iE=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),sE=function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e}(),oE=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),aE=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),cE=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,fE=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ll=3,uE=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",cE]],Ul=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function lE(e){return e?Fl(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new aE:typeof navigator<"u"?Fl(navigator.userAgent):gE()}function hE(e){return e!==""&&uE.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function Fl(e){var t=hE(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new oE;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Ll&&(i=$l($l([],i,!0),pE(Ll-i.length),!0)):i=[];var s=i.join("."),o=dE(e),a=fE.exec(e);return a&&a[1]?new sE(n,s,o,a[1]):new rE(n,s,o)}function dE(e){for(var t=0,n=Ul.length;t<n;t++){var r=Ul[t],i=r[0],s=r[1],o=s.exec(e);if(o)return i}return null}function gE(){var e=typeof process<"u"&&process.version;return e?new iE(process.version.slice(1)):null}function pE(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.getLocalStorage=ue.getLocalStorageOrThrow=ue.getCrypto=ue.getCryptoOrThrow=jl=ue.getLocation=ue.getLocationOrThrow=ra=ue.getNavigator=ue.getNavigatorOrThrow=br=ue.getDocument=ue.getDocumentOrThrow=ue.getFromWindowOrThrow=ue.getFromWindow=void 0;function Kn(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}ue.getFromWindow=Kn;function pr(e){const t=Kn(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}ue.getFromWindowOrThrow=pr;function bE(){return pr("document")}ue.getDocumentOrThrow=bE;function yE(){return Kn("document")}var br=ue.getDocument=yE;function mE(){return pr("navigator")}ue.getNavigatorOrThrow=mE;function wE(){return Kn("navigator")}var ra=ue.getNavigator=wE;function EE(){return pr("location")}ue.getLocationOrThrow=EE;function vE(){return Kn("location")}var jl=ue.getLocation=vE;function _E(){return pr("crypto")}ue.getCryptoOrThrow=_E;function xE(){return Kn("crypto")}ue.getCrypto=xE;function SE(){return pr("localStorage")}ue.getLocalStorageOrThrow=SE;function IE(){return Kn("localStorage")}ue.getLocalStorage=IE;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});var Ml=ia.getWindowMetadata=void 0;const kl=ue;function OE(){let e,t;try{e=kl.getDocumentOrThrow(),t=kl.getLocationOrThrow()}catch{return null}function n(){const d=e.getElementsByTagName("link"),h=[];for(let l=0;l<d.length;l++){const b=d[l],m=b.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const v=b.getAttribute("href");if(v)if(v.toLowerCase().indexOf("https:")===-1&&v.toLowerCase().indexOf("http:")===-1&&v.indexOf("//")!==0){let D=t.protocol+"//"+t.host;if(v.indexOf("/")===0)D+=v;else{const C=t.pathname.split("/");C.pop();const x=C.join("/");D+=x+"/"+v}h.push(D)}else if(v.indexOf("//")===0){const D=t.protocol+v;h.push(D)}else h.push(v)}}return h}function r(...d){const h=e.getElementsByTagName("meta");for(let l=0;l<h.length;l++){const b=h[l],m=["itemprop","property","name"].map(v=>b.getAttribute(v)).filter(v=>v?d.includes(v):!1);if(m.length&&m){const v=b.getAttribute("content");if(v)return v}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=e.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),f=t.origin,c=n();return{description:a,url:f,icons:c,name:o}}Ml=ia.getWindowMetadata=OE;const BE="0.1.1";function DE(){return BE}class Fe extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof Fe){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Fe&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(f=>typeof f=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${DE()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=t}walk(t){return zl(this,t)}}function zl(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?zl(e.cause,t):t?null:e}const yr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function os(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function mr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function qt(e,...t){if(!os(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function ql(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");mr(e.outputLen),mr(e.blockLen)}function wr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Hl(e,t){qt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function AE(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function gn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function sa(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Pt(e,t){return e<<32-t|e>>>t}const TE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function RE(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function NE(e){for(let t=0;t<e.length;t++)e[t]=RE(e[t]);return e}const Vl=TE?e=>e:NE,Kl=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",CE=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Er(e){if(qt(e),Kl)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=CE[e[n]];return t}const Ht={_0:48,_9:57,A:65,F:70,a:97,f:102};function Gl(e){if(e>=Ht._0&&e<=Ht._9)return e-Ht._0;if(e>=Ht.A&&e<=Ht.F)return e-(Ht.A-10);if(e>=Ht.a&&e<=Ht.f)return e-(Ht.a-10)}function as(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Kl)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Gl(e.charCodeAt(s)),a=Gl(e.charCodeAt(s+1));if(o===void 0||a===void 0){const f=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[i]=o*16+a}return r}function oa(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function cs(e){return typeof e=="string"&&(e=oa(e)),qt(e),e}function Vt(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];qt(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class aa{}function fs(e){const t=r=>e().update(cs(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function us(e=32){if(yr&&typeof yr.getRandomValues=="function")return yr.getRandomValues(new Uint8Array(e));if(yr&&typeof yr.randomBytes=="function")return Uint8Array.from(yr.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function PE(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),f=r?4:0,c=r?0:4;e.setUint32(t+f,o,r),e.setUint32(t+c,a,r)}function $E(e,t,n){return e&t^~e&n}function LE(e,t,n){return e&t^e&n^t&n}class Zl extends aa{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=sa(this.buffer)}update(t){wr(this),t=cs(t),qt(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const f=sa(t);for(;i<=s-o;o+=i)this.process(f,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){wr(this),Hl(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,gn(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;PE(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=sa(t),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=f/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Kt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Te=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Re=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),ls=BigInt(2**32-1),Yl=BigInt(32);function UE(e,t=!1){return t?{h:Number(e&ls),l:Number(e>>Yl&ls)}:{h:Number(e>>Yl&ls)|0,l:Number(e&ls)|0}}function Wl(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=UE(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}const Xl=(e,t,n)=>e>>>n,Jl=(e,t,n)=>e<<32-n|t>>>n,vr=(e,t,n)=>e>>>n|t<<32-n,_r=(e,t,n)=>e<<32-n|t>>>n,hs=(e,t,n)=>e<<64-n|t>>>n-32,ds=(e,t,n)=>e>>>n-32|t<<64-n,FE=(e,t,n)=>e<<n|t>>>32-n,jE=(e,t,n)=>t<<n|e>>>32-n,ME=(e,t,n)=>t<<n-32|e>>>64-n,kE=(e,t,n)=>e<<n-32|t>>>64-n;function Gt(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const zE=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),qE=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,HE=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),VE=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,KE=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),GE=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,ZE=BigInt(0),ni=BigInt(1),YE=BigInt(2),WE=BigInt(7),XE=BigInt(256),JE=BigInt(113),Ql=[],eh=[],th=[];for(let e=0,t=ni,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ql.push(2*(5*r+n)),eh.push((e+1)*(e+2)/2%64);let i=ZE;for(let s=0;s<7;s++)t=(t<<ni^(t>>WE)*JE)%XE,t&YE&&(i^=ni<<(ni<<BigInt(s))-ni);th.push(i)}const nh=Wl(th,!0),QE=nh[0],ev=nh[1],rh=(e,t,n)=>n>32?ME(e,t,n):FE(e,t,n),ih=(e,t,n)=>n>32?kE(e,t,n):jE(e,t,n);function tv(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,f=(o+2)%10,c=n[f],u=n[f+1],d=rh(c,u,1)^n[a],h=ih(c,u,1)^n[a+1];for(let l=0;l<50;l+=10)e[o+l]^=d,e[o+l+1]^=h}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=eh[o],f=rh(i,s,a),c=ih(i,s,a),u=Ql[o];i=e[u],s=e[u+1],e[u]=f,e[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=QE[r],e[1]^=ev[r]}gn(n)}class ca extends aa{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,mr(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=AE(this.state)}clone(){return this._cloneInto()}keccak(){Vl(this.state32),tv(this.state32,this.rounds),Vl(this.state32),this.posOut=0,this.pos=0}update(t){wr(this),t=cs(t),qt(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){wr(this,!1),qt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return mr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Hl(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,gn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new ca(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const nv=(e,t,n)=>fs(()=>new ca(t,e,n)),rv=nv(1,136,256/8),iv=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pn=new Uint32Array(64);class sv extends Zl{constructor(t=32){super(64,t,8,!1),this.A=Kt[0]|0,this.B=Kt[1]|0,this.C=Kt[2]|0,this.D=Kt[3]|0,this.E=Kt[4]|0,this.F=Kt[5]|0,this.G=Kt[6]|0,this.H=Kt[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:f}=this;return[t,n,r,i,s,o,a,f]}set(t,n,r,i,s,o,a,f){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=f|0}process(t,n){for(let d=0;d<16;d++,n+=4)pn[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const h=pn[d-15],l=pn[d-2],b=Pt(h,7)^Pt(h,18)^h>>>3,m=Pt(l,17)^Pt(l,19)^l>>>10;pn[d]=m+pn[d-7]+b+pn[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:f,G:c,H:u}=this;for(let d=0;d<64;d++){const h=Pt(a,6)^Pt(a,11)^Pt(a,25),l=u+h+$E(a,f,c)+iv[d]+pn[d]|0,m=(Pt(r,2)^Pt(r,13)^Pt(r,22))+LE(r,i,s)|0;u=c,c=f,f=a,a=o+l|0,o=s,s=i,i=r,r=l+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,f=f+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,f,c,u)}roundClean(){gn(pn)}destroy(){this.set(0,0,0,0,0,0,0,0),gn(this.buffer)}}const sh=Wl(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ov=sh[0],av=sh[1],bn=new Uint32Array(80),yn=new Uint32Array(80);class oh extends Zl{constructor(t=64){super(128,t,16,!1),this.Ah=Re[0]|0,this.Al=Re[1]|0,this.Bh=Re[2]|0,this.Bl=Re[3]|0,this.Ch=Re[4]|0,this.Cl=Re[5]|0,this.Dh=Re[6]|0,this.Dl=Re[7]|0,this.Eh=Re[8]|0,this.El=Re[9]|0,this.Fh=Re[10]|0,this.Fl=Re[11]|0,this.Gh=Re[12]|0,this.Gl=Re[13]|0,this.Hh=Re[14]|0,this.Hl=Re[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:f,Eh:c,El:u,Fh:d,Fl:h,Gh:l,Gl:b,Hh:m,Hl:v}=this;return[t,n,r,i,s,o,a,f,c,u,d,h,l,b,m,v]}set(t,n,r,i,s,o,a,f,c,u,d,h,l,b,m,v){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=f|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=l|0,this.Gl=b|0,this.Hh=m|0,this.Hl=v|0}process(t,n){for(let x=0;x<16;x++,n+=4)bn[x]=t.getUint32(n),yn[x]=t.getUint32(n+=4);for(let x=16;x<80;x++){const _=bn[x-15]|0,R=yn[x-15]|0,$=vr(_,R,1)^vr(_,R,8)^Xl(_,R,7),F=_r(_,R,1)^_r(_,R,8)^Jl(_,R,7),U=bn[x-2]|0,A=yn[x-2]|0,q=vr(U,A,19)^hs(U,A,61)^Xl(U,A,6),k=_r(U,A,19)^ds(U,A,61)^Jl(U,A,6),E=HE(F,k,yn[x-7],yn[x-16]),p=VE(E,$,q,bn[x-7],bn[x-16]);bn[x]=p|0,yn[x]=E|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:f,Dh:c,Dl:u,Eh:d,El:h,Fh:l,Fl:b,Gh:m,Gl:v,Hh:D,Hl:C}=this;for(let x=0;x<80;x++){const _=vr(d,h,14)^vr(d,h,18)^hs(d,h,41),R=_r(d,h,14)^_r(d,h,18)^ds(d,h,41),$=d&l^~d&m,F=h&b^~h&v,U=KE(C,R,F,av[x],yn[x]),A=GE(U,D,_,$,ov[x],bn[x]),q=U|0,k=vr(r,i,28)^hs(r,i,34)^hs(r,i,39),E=_r(r,i,28)^ds(r,i,34)^ds(r,i,39),p=r&s^r&a^s&a,w=i&o^i&f^o&f;D=m|0,C=v|0,m=l|0,v=b|0,l=d|0,b=h|0,{h:d,l:h}=Gt(c|0,u|0,A|0,q|0),c=a|0,u=f|0,a=s|0,f=o|0,s=r|0,o=i|0;const g=zE(q,E,w);r=qE(g,A,k,p),i=g|0}({h:r,l:i}=Gt(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Gt(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:f}=Gt(this.Ch|0,this.Cl|0,a|0,f|0),{h:c,l:u}=Gt(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:h}=Gt(this.Eh|0,this.El|0,d|0,h|0),{h:l,l:b}=Gt(this.Fh|0,this.Fl|0,l|0,b|0),{h:m,l:v}=Gt(this.Gh|0,this.Gl|0,m|0,v|0),{h:D,l:C}=Gt(this.Hh|0,this.Hl|0,D|0,C|0),this.set(r,i,s,o,a,f,c,u,d,h,l,b,m,v,D,C)}roundClean(){gn(bn,yn)}destroy(){gn(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class cv extends oh{constructor(){super(48),this.Ah=Te[0]|0,this.Al=Te[1]|0,this.Bh=Te[2]|0,this.Bl=Te[3]|0,this.Ch=Te[4]|0,this.Cl=Te[5]|0,this.Dh=Te[6]|0,this.Dl=Te[7]|0,this.Eh=Te[8]|0,this.El=Te[9]|0,this.Fh=Te[10]|0,this.Fl=Te[11]|0,this.Gh=Te[12]|0,this.Gl=Te[13]|0,this.Hh=Te[14]|0,this.Hl=Te[15]|0}}const xr=fs(()=>new sv),fv=fs(()=>new oh),uv=fs(()=>new cv);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fa=BigInt(0),gs=BigInt(1);function ri(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function mn(e){if(!ri(e))throw new Error("Uint8Array expected")}function ii(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function ps(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ah(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?fa:BigInt("0x"+e)}const ch=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",lv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gn(e){if(mn(e),ch)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=lv[e[n]];return t}const Zt={_0:48,_9:57,A:65,F:70,a:97,f:102};function fh(e){if(e>=Zt._0&&e<=Zt._9)return e-Zt._0;if(e>=Zt.A&&e<=Zt.F)return e-(Zt.A-10);if(e>=Zt.a&&e<=Zt.f)return e-(Zt.a-10)}function bs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ch)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=fh(e.charCodeAt(s)),a=fh(e.charCodeAt(s+1));if(o===void 0||a===void 0){const f=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+f+'" at index '+s)}r[i]=o*16+a}return r}function je(e){return ah(Gn(e))}function uh(e){return mn(e),ah(Gn(Uint8Array.from(e).reverse()))}function we(e,t){return bs(e.toString(16).padStart(t*2,"0"))}function lh(e,t){return we(e,t).reverse()}function Ne(e,t,n){let r;if(typeof t=="string")try{r=bs(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(ri(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function pe(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];mn(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function ua(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const la=e=>typeof e=="bigint"&&fa<=e;function ha(e,t,n){return la(e)&&la(t)&&la(n)&&t<=e&&e<n}function Sr(e,t,n,r){if(!ha(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function si(e){let t;for(t=0;e>fa;e>>=gs,t+=1);return t}function hv(e,t){return e>>BigInt(t)&gs}const Zn=e=>(gs<<BigInt(e))-gs,da=e=>new Uint8Array(e),hh=e=>Uint8Array.from(e);function dv(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=da(e),i=da(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),f=(d=da(0))=>{i=a(hh([0]),d),r=a(),d.length!==0&&(i=a(hh([1]),d),r=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<t;){r=a();const l=r.slice();h.push(l),d+=r.length}return pe(...h)};return(d,h)=>{o(),f(d);let l;for(;!(l=h(c()));)f();return o(),l}}const gv={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ri(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function oi(e,t,n={}){const r=(i,s,o)=>{const a=gv[s];if(typeof a!="function")throw new Error("invalid validator function");const f=e[i];if(!(o&&f===void 0)&&!a(f,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+f)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}const dh=()=>{throw new Error("not implemented")};function ga(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}function pv(e,t){if(mh(e)>t)throw new Rv({givenSize:mh(e),maxSize:t})}const Yt={zero:48,nine:57,A:65,F:70,a:97,f:102};function gh(e){if(e>=Yt.zero&&e<=Yt.nine)return e-Yt.zero;if(e>=Yt.A&&e<=Yt.F)return e-(Yt.A-10);if(e>=Yt.a&&e<=Yt.f)return e-(Yt.a-10)}function bv(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Nv({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=e[o?s:e.length-s-1]}return i}function pa(e,t){if(ya(e)>t)throw new xv({givenSize:ya(e),maxSize:t})}function ph(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const i=e.replace("0x","");if(i.length>r*2)throw new Sv({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const yv=new TextEncoder,mv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bh(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function wv(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(pa(n,t.size),ys(n,t.size)):n}function yh(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=mv[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(pa(r,t.size),ba(r,t.size)):r}function Ev(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new _v({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const f=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?ys(f,r):f}function vv(e,t={}){return yh(yv.encode(e),t)}function ys(e,t){return ph(e,{dir:"left",size:t})}function ba(e,t){return ph(e,{dir:"right",size:t})}function ya(e){return Math.ceil((e.length-2)/2)}class _v extends Fe{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class xv extends Fe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Sv extends Fe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}const Iv=new TextEncoder;function Ov(e){return e instanceof Uint8Array?e:typeof e=="string"?Dv(e):Bv(e)}function Bv(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Dv(e,t={}){const{size:n}=t;let r=e;n&&(pa(e,n),r=ba(e,n)